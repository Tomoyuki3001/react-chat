{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mjr01/OneDrive/\\u30C7\\u30B9\\u30AF\\u30C8\\u30C3\\u30D7/Code/react-chat-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/mjr01/OneDrive/\\u30C7\\u30B9\\u30AF\\u30C8\\u30C3\\u30D7/Code/react-chat-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mjr01/OneDrive/\\u30C7\\u30B9\\u30AF\\u30C8\\u30C3\\u30D7/Code/react-chat-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{addDoc,collection,serverTimestamp}from\"firebase/firestore\";import React,{useState}from\"react\";import{auth,db}from\"../firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var style={form:\"h-14 w-full max-w-[728px]  flex text-xl absolute bottom-0\",input:\"w-full text-xl p-3 bg-gray-900 text-white outline-none border-none\",button:\"w-[20%] bg-green-500\"};var SendMessage=function SendMessage(_ref){var scroll=_ref.scroll;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var sendMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _auth$currentUser,uid,displayName;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(input===\"\")){_context.next=4;break;}alert(\"Please type messages\");return _context.abrupt(\"return\");case 4:_auth$currentUser=auth.currentUser,uid=_auth$currentUser.uid,displayName=_auth$currentUser.displayName;_context.next=7;return addDoc(collection(db,\"messages\"),{text:input,name:displayName,uid:uid,timestamp:serverTimestamp()});case 7:scroll.current.scrollIntoView({behavior:\"smooth\"});setInput(\"\");case 9:case\"end\":return _context.stop();}},_callee);}));return function sendMessage(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendMessage,className:style.form,children:[/*#__PURE__*/_jsx(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},className:style.input,type:\"text\",placeholder:\"Message...\"}),/*#__PURE__*/_jsx(\"button\",{className:style.button,type:\"submit\",children:\"\\u25BA\"})]});};export default SendMessage;","map":{"version":3,"names":["addDoc","collection","serverTimestamp","React","useState","auth","db","style","form","input","button","SendMessage","scroll","setInput","sendMessage","e","preventDefault","alert","currentUser","uid","displayName","text","name","timestamp","current","scrollIntoView","behavior","target","value"],"sources":["C:/Users/mjr01/OneDrive/デスクトップ/Code/react-chat-app/src/components/SendMessage.jsx"],"sourcesContent":["import { addDoc, collection, serverTimestamp } from \"firebase/firestore\";\r\nimport React, { useState } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\n\r\nconst style = {\r\n  form: \"h-14 w-full max-w-[728px]  flex text-xl absolute bottom-0\",\r\n  input: \"w-full text-xl p-3 bg-gray-900 text-white outline-none border-none\",\r\n  button: \"w-[20%] bg-green-500\",\r\n};\r\n\r\nconst SendMessage = ({ scroll }) => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (input === \"\") {\r\n      alert(\"Please type messages\");\r\n      return;\r\n    }\r\n    const { uid, displayName } = auth.currentUser;\r\n    await addDoc(collection(db, \"messages\"), {\r\n      text: input,\r\n      name: displayName,\r\n      uid,\r\n      timestamp: serverTimestamp(),\r\n    });\r\n    scroll.current.scrollIntoView({ behavior: \"smooth\" });\r\n    setInput(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={sendMessage} className={style.form}>\r\n      <input\r\n        value={input}\r\n        onChange={(e) => setInput(e.target.value)}\r\n        className={style.input}\r\n        type=\"text\"\r\n        placeholder=\"Message...\"\r\n      />\r\n      <button className={style.button} type=\"submit\">\r\n        &#9658;\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SendMessage;\r\n"],"mappings":"kgBAAA,OAASA,MAAM,CAAEC,UAAU,CAAEC,eAAe,KAAQ,oBAAoB,CACxE,MAAOC,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,EAAE,KAAQ,aAAa,CAAC,wFAEvC,GAAMC,MAAK,CAAG,CACZC,IAAI,CAAE,2DAA2D,CACjEC,KAAK,CAAE,oEAAoE,CAC3EC,MAAM,CAAE,sBACV,CAAC,CAED,GAAMC,YAAW,CAAG,QAAdA,YAAW,MAAmB,IAAbC,OAAM,MAANA,MAAM,CAC3B,cAA0BR,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEI,QAAQ,eAEtB,GAAMC,YAAW,6FAAG,iBAAOC,CAAC,yJAC1BA,CAAC,CAACC,cAAc,EAAE,CAAC,KACfP,KAAK,GAAK,EAAE,0BACdQ,KAAK,CAAC,sBAAsB,CAAC,CAAC,0DAGHZ,IAAI,CAACa,WAAW,CAArCC,GAAG,mBAAHA,GAAG,CAAEC,WAAW,mBAAXA,WAAW,uBAClBpB,OAAM,CAACC,UAAU,CAACK,EAAE,CAAE,UAAU,CAAC,CAAE,CACvCe,IAAI,CAAEZ,KAAK,CACXa,IAAI,CAAEF,WAAW,CACjBD,GAAG,CAAHA,GAAG,CACHI,SAAS,CAAErB,eAAe,EAC5B,CAAC,CAAC,QACFU,MAAM,CAACY,OAAO,CAACC,cAAc,CAAC,CAAEC,QAAQ,CAAE,QAAS,CAAC,CAAC,CACrDb,QAAQ,CAAC,EAAE,CAAC,CAAC,qDACd,kBAfKC,YAAW,6CAehB,CAED,mBACE,cAAM,QAAQ,CAAEA,WAAY,CAAC,SAAS,CAAEP,KAAK,CAACC,IAAK,wBACjD,cACE,KAAK,CAAEC,KAAM,CACb,QAAQ,CAAE,kBAACM,CAAC,QAAKF,SAAQ,CAACE,CAAC,CAACY,MAAM,CAACC,KAAK,CAAC,EAAC,CAC1C,SAAS,CAAErB,KAAK,CAACE,KAAM,CACvB,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,YAAY,EACxB,cACF,eAAQ,SAAS,CAAEF,KAAK,CAACG,MAAO,CAAC,IAAI,CAAC,QAAQ,UAAC,QAE/C,EAAS,GACJ,CAEX,CAAC,CAED,cAAeC,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}